\subsection{Höhere Induktive Typen}

Höhere induktive Typen haben neben Konstruktoren der Bauart, die wir bereits von den Induktiven Typen kennen, sogenannte \begriff{höhere Konstruktoren},
deren Werte in Gleichheitstypen des höheren induktiven Typs liegen.
Später werden wir auch höhere induktive Typen mit höheren Konstruktoren, die in iterierten Gleichheitstypen liegen, sehen.
Zunächst wird der Typ $S¹$ zentral sein. Dieser hat wie der Typ $\eins$ einen Punkt-Konstruktor $\ast:S^1$ und zusätzlich einen
höheren Konstruktor $l:\ast =_{S^1}\ast$.

Eine Rekursionsregel ist leicht formuliert: Um eine Funktion $f:S^1\to A$ zu definieren, muss man $f(\ast):A$ und $f(l):f(\ast)=_A f(\ast)$ vorgeben.
Das Induktionsprinzip ist etwas unhandlicher und wir wollen zunächst ein paar Definition machen, die uns die Formulierung erleichtern und schließlich nach der Einführung der neuen Regeln
das Rekursionsprinzip aus dem Induktionsprinzip folgern.

In \cref{lem:gleichheit-summe} haben wir festgestellt, dass ein Teil einer Gleichheit in einer abhängigen Summe von der Form
\begin{mathpar}
  \transp_B(p)(b)=b'
\end{mathpar}
ist. Das werden wir jetzt als allgemeine Definition von Gleichheiten in abhängigen Typen verwenden.
\begin{definition}[Abhängige Gleichheit]
  Seien $A:\mU$, und $B:A\to \mU$. Seien weiter $x,y:A$, $b:B(x)$ und $b':B(y)$.
  \begin{enumerate}
  \item Sei $p:x=_A y$. Ein \begriff{abhängier Pfad} oder eine \begriff{abhängige Gleichheit} zwischen $b$ und $b'$ ist ein Element des Typs
    \begin{mathpar}
      \left(b =_p^B b'\right)\colonequiv \left(\transp_B(p)(b)=b'\right)
    \end{mathpar}
  \item Sei $s:\prod_{x:A}B(x)$ eine abhängige Funktion. Die folgende Funktion ist die Anwendung eine abhängigen Funktion auf eine Gleichheit:
    \begin{mathpar}
      \mathrm{apd}(f):\prod_{p:x=_A y}f(x)=_p^B f(y)
    \end{mathpar}
    und festgelegt durch $\mathrm{apd}(f,\refl_x)\colonequiv\refl_b$. Wir schreiben auch $f(p)$ für $\mathrm{apd}(f,p)$.
  \end{enumerate}
\end{definition}

Damit können wir die folgenden Regeln für den induktiven Einheitskreis leichter formulieren.
Zunächst wollen wir noch die abhängige Variante mit der bekannten Anwendung von Funktionen auf Gleichheiten vergleichen:

\begin{bemerkung}
  Seien $A,B:\mU$. Dann gilt:
  \begin{enumerate}
  \item Für $x,y:A$, $p:x=_A y$ und alle $b:B$ gilt:
    \begin{mathpar}
      \transp_{\_\mapsto B}(p)(b)=b
    \end{mathpar}
  \item $\mathrm{apd}(f,p)=_t \mathrm{ap}(f,p)$
  \end{enumerate}
\end{bemerkung}


Anders als bei den Konstruktoren induktiver Typen, werden wir bei höheren Konstruktoren keine urteilsmäßige Gleichheit für Berechnungen fordern,
sondern nur Gleichheit.

\begin{regeln}
  Es gibt einen Typ $S^1:\mU$ den wir den (höheren induktiven) \begriff{(Einheits-)Kreis}\index{Kreis}\index{$S^1$} nennen.
  $S^1$ ist der höhere induktive Typ mit den Konstruktoren:
  \begin{align*}
    \ast:S^1 \\
    l:\ast =_{S^1}\ast
  \end{align*}
  Das heißt: Für jeden abhängigen Typ $B:S^1\to\mU$ reicht es, $b:B(\ast)$ und $b_l:b =_l^B b$ vorzugeben,
  um eine abhängige Funktion $s:\prod_{x:S^1}B(x)$ zu definieren.
  Es gibt also eine Funktion:
  \begin{mathpar}
    \ind{S^1}:\prod_{B:S^1\to\mU}\prod_{b:B(\ast)}\left((b =_l^B b)\to\prod_{x:S^1}B(x)\right)
  \end{mathpar}
  die $\begriff{Kreisinduktion}$.
  Es gelten folgende Berechnungsregeln:
  \begin{align*}
    \ind{S^1}(B,b,b_l)(\ast)\equiv b \\
    \mathrm{apd}(\ind{S^1}(B,b,b_l),l)\equiv \ind{S^1}(B,b,b_l)(l) =b_l
  \end{align*}
  Wir werden abhängige Funktionen $f:\prod_{x:S^1}B(x)$ auch durch Fallunterscheidung wie angeben:
  \begin{align*}
    f(\ast)\colonequiv b \\
    f(l):= b_l
  \end{align*}
\end{regeln}

Wir wollen zunächst das Rekursionprinzip für den Kreis herleiten.

\begin{bemerkung}
  Für $A:\mU$, $a:A$ und $a_l:a=_A a$ gibt es stets eine Funktion $\rec{S^1}(A,a,a_l):S^1\to A$ mit
  \begin{align*}
    \rec{S^1}(A,a,a_l)(\ast)\equiv a \\
    \rec{S^1}(A,a,a_l)(l)=a_l
  \end{align*}
\end{bemerkung}
\begin{beweis}
  Wir verwenden Kreisinduktion für den konstanten abhängigen Typ $\_\mapsto A:S^1\to\mU$.
  Dazu wollen wir einsehen, dass
  \begin{mathpar}
    (a =_A a) \simeq (a =_l a)
  \end{mathpar}
  gilt. Es ist aber, weil der abhängige Typ konstant ist:
  \begin{mathpar}
    \transp_{\_\mapsto A}(p)(a)=a
  \end{mathpar}
  per Gleichheitsinduktion über $p$. Also kommt die Äquivalenz oben durch linkkonkatenation mit dieser Gleichheit zustande.
\end{beweis}

\subsection{n-Typen}
In \cref{def:kontr-aussage-menge} hatten wir bereits kontrahierbare Typen, Aussagen und Mengen definiert.
Die Mengen haben den alternativen Namen $0$-Typen und zu Aussagen, kann man auch $-1$-Typen und zu kontrahierbaren Typen $-2$-Typen sagen.
Wir werden in diesem Abschnitt $n$-Typen definieren, für $n=-2,-1,0,1,\dots$.
Dazu sei zunächst:
\begin{definition}
  Es sei $\N_{-2}$ der induktive Typ mit Konstruktoren $-2:\N_{-2}$ und $\sucHL:\N_{-2}\to\N_{-2}$.
  Für $\sucHL(n)$ schreiben wir $n+1$.
  Die Elemente von $\N_{-2}$ nennen wir auch \begriff{Homotopielevel}.
\end{definition}
Damit können wir $n$-Typen für jeden Homotopielevel $n$ definieren:
\begin{definition}
  \begin{enumerate}
  \item Für jeden Typ $A$ sei der Typ $\isNType{n}$ wie folgt per Rekursion über $n:\N_{-2}$ definiert:
    \begin{align*}
      -2\mathrm{-Type}(A)&\colonequiv \isContr(A) \\
      (n+1)\mathrm{-Type}(A)&\colonequiv \prod_{x,y:A}n\mathrm{-Type}(x=_A y)
    \end{align*}
  \item Der \begriff{Typ der $n$-Typen} ist für $n:\N_{-2}$:
    \begin{mathpar}
      n\mathrm{-Type}\colonequiv \sum_{A:\mU} \isNType{n}
    \end{mathpar}
    Diese Typ gibt es also für jeden Universenlevel.
  \end{enumerate}
\end{definition}


Wir wollen jetzt Regeln für n-Abschneidungen einführen, die wir teilweise bereits für die -1-Abschneidung gesehen hatten.

\begin{regeln}
  Sei $n:\N_{-2}$ ein Homotopielevel und $A:\mU$.
  Es gibt einen Typ $\| A \|_{n}:\mU$, die \begriff{$n$-Abschneidung} von $A$.
  Es gilt $\isNType{n}(\| A\|_n)$ und für $a:A$ gibt es $|a|:\| A\|_n$.
  Weiter ist für jeden abhängigen Typ $B:\| A \|_n\to\mU$, die Abbildung
  \begin{mathpar}
    s\mapsto s\circ|\_|: \left(\prod_{x:\| A \|_n}\| B(x) \|_n\right)\to\left(\prod_{y:A}\| B(|y|)\|_n\right)
  \end{mathpar}
  eine Äquivalenz. Diese Eigenschaft nennen wir die \begriff{universelle Eigenschaft von $\|\_\|_n$}.
\end{regeln}

\begin{bemerkung}
  Für $n:\N_{-2}$, $A,B:\mU$ und jede Funktion $f:A\to B$ gibt es eine Funktion $\| f\|_n:\| A\|_n\to \| B\|_n$.
\end{bemerkung}
\begin{beweis}
  Universelle Eigenschaft anwenden auf den abhängigen Typ $\_\mapsto B$ und $x\mapsto |f(x)|:A\to \| B \|_n$, um ein Urbild $\| f \|_n:\| A \|_n\to \| B \|_n$ zu erhalten.
\end{beweis}

Erst später: Wie bereits angekündigt, ist $\isContr(A)$ stets eine Aussage, egal was $A$ ist.
Das stimmt auch allgemeiner für $\isNType{n}(A)$.

\begin{lemma}
  \label{lem:isprop-hlevel}
  Sei $A:\mU$.
  \begin{enumerate}
  \item Für jedes $B:A\to\mU$ haben wir
    \begin{mathpar}
      \left(\prod_{x:A}\isProp(B(x))\right)\to \isProp\left(\prod_{x:A}B(x)\right)
    \end{mathpar}
  \item Es gilt $\isProp(\isContr(A))$.
  \item Für jedes $n:\N_{-2}$ gilt $\isProp(\isNType{n}(A))$.
  \end{enumerate}
\end{lemma}
\begin{beweis}
  \begin{enumerate}
  \item Für $x,y:\prod_{x:A}B(x)$ müssen wir $x=y$ zeigen.
  \end{enumerate}
\end{beweis}

\subsection{Überlagerungen}
\subsection{Homotopiegruppen}
